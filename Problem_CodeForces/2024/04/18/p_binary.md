由题可得$\sum^{k}_{i=1}2^{a_{i}}+p=n,E:a_i=a_j,i!=j$

所以$n-k*p=\sum^{k}_{i=1}a_i$

所以枚举k就行了，数据量也不大，$n≤10^9$，$k$最大不超过n，从0枚举完，2s够了